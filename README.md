# 彩票分析系统

一个基于Python和JavaScript的彩票数据分析系统，支持澳门和香港彩票数据的采集、分析和推荐。

## 功能特性

### 数据采集
- 支持澳门和香港彩票数据采集
- 历史数据批量采集
- 自动数据更新

### 数据分析
- 推荐8码生成
- **推荐8码的命中情况分析** (新功能)
- 第N位十位分析
- 第N个码个位分析
- +1~+20区间分析
- 加减前6码分析
- 每期分析
- 波色分析

### 登记点管理
- 关注点登记
- 投注登记点
- 关注点登记结果
- 关注点分析
- 关注号码管理
- 投注点报表

## 新功能：推荐8码的命中情况分析

### 功能说明
分析推荐8码在前后各10期的命中情况，支持选择不同期数的推荐数据进行对比分析，帮助用户评估推荐算法的有效性和趋势变化。

### 使用方法
1. 在左侧菜单中点击"推荐8码的命中情况"按钮
2. 选择彩种（澳门或香港）
3. 点击"分析命中情况"按钮
4. 选择要分析的推荐期数
5. 系统会分析该期推荐8码前后各10期的命中情况

### 分析内容
- **期数选择**：支持选择不同期数的推荐数据进行对比分析
- **分组统计**：推荐期号前后的期数分别统计
- **总体统计**：总命中次数、总位置数、总体命中率、平均每期命中
- **分组详细分析**：前后各10期的详细命中情况
- **位置分析**：每个位置的推荐号码和实际开奖号码对比
- **趋势分析**：对比推荐前后命中率的变化趋势
- **期数对比**：可以对比不同期数推荐的效果差异

### 数据来源
- 推荐8码数据来自 `recommend_result` 表
- 开奖结果数据来自 `lottery_result` 表
- 分析基于推荐期号前后各10期的开奖数据
- 按推荐期号分组显示分析结果

## 技术架构

### 后端
- Python + FastAPI
- MySQL数据库
- 数据采集和分析算法

### 前端
- HTML + CSS + JavaScript
- 响应式设计
- 实时数据更新

## 安装和运行

### 环境要求
- Python 3.7+
- MySQL 5.7+
- Node.js (可选，用于前端开发)

### 安装步骤
1. 克隆项目
```bash
git clone <repository-url>
cd six666
```

2. 安装Python依赖
```bash
cd backend
pip install -r requirements.txt
```

3. 配置数据库
```bash
# 修改 config.py 中的数据库配置
# 运行数据库初始化脚本
python create_table.sql
```

4. 启动后端服务
```bash
python main.py
```

5. 打开前端页面
```bash
# 在浏览器中打开 frontend/index.html
```

## 数据库表结构

### recommend_result (推荐8码历史记录表)
- `id`: 自增主键
- `lottery_type`: 彩种类型 (am=澳门, hk=香港)
- `period`: 推荐基于的期号
- `position`: 位置 (1~7)
- `numbers`: 推荐的8个号码，逗号分隔
- `created_at`: 生成时间

### lottery_result (彩票开奖数据表)
- `id`: 自增主键
- `lottery_type`: 彩种类型
- `period`: 期号
- `open_time`: 开奖时间
- `numbers`: 开奖号码
- `animals`: 对应生肖
- `created_at`: 采集入库时间

## 使用说明

1. **数据采集**：点击"采集"按钮获取最新开奖数据
2. **推荐生成**：点击"推荐8码"生成推荐号码
3. **命中分析**：点击"推荐8码的命中情况"分析推荐效果
4. **数据分析**：使用各种分析工具深入分析数据
5. **登记管理**：管理关注点和投注记录

## 注意事项

- 确保数据库连接正常
- 定期采集最新数据以保持分析准确性
- 推荐8码的命中情况分析需要先有推荐数据
- 建议在开奖后及时分析命中情况

## 开发说明

### 添加新功能
1. 在HTML中添加页面结构
2. 在CSS中添加样式
3. 在JavaScript中添加功能逻辑
4. 在后端添加必要的API接口

### 代码规范
- 使用2空格缩进
- 函数名使用驼峰命名
- 变量名使用有意义的名称
- 添加必要的注释

## 许可证

本项目仅供学习和研究使用，请勿用于商业用途。 
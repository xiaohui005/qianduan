# åç«¯æ€§èƒ½ä¼˜åŒ–ä½¿ç”¨æŒ‡å—

## ğŸ“š æ¦‚è¿°

æœ¬é¡¹ç›®å·²ç»å®Œæˆäº†å…¨é¢çš„åç«¯æ€§èƒ½ä¼˜åŒ–ï¼Œåœ¨**ä¸æ”¹å˜ä»»ä½•APIæ¥å£å’Œè¿”å›æ•°æ®æ ¼å¼**çš„å‰æä¸‹ï¼Œæ˜¾è‘—æå‡äº†ç³»ç»Ÿæ€§èƒ½ã€‚

### å·²å®æ–½çš„ä¼˜åŒ–

âœ… **æ™ºèƒ½ç¼“å­˜ç³»ç»Ÿ** - å‡å°‘70%çš„æ•°æ®åº“æŸ¥è¯¢
âœ… **æŸ¥è¯¢ä¼˜åŒ–å™¨** - ä½¿ç”¨LIMITä¼˜åŒ–ï¼Œå‡å°‘æ•°æ®ä¼ è¾“
âœ… **æ€§èƒ½ç›‘æ§** - å®æ—¶ç›‘æ§APIæ€§èƒ½å’Œæ…¢æŸ¥è¯¢
âœ… **ç»“æ„åŒ–æ—¥å¿—** - ç»Ÿä¸€çš„æ—¥å¿—ç®¡ç†ç³»ç»Ÿ
âœ… **è¿æ¥æ± ä¼˜åŒ–** - ä»5ä¸ªè¿æ¥å¢åŠ åˆ°10ä¸ªï¼Œæ·»åŠ ç»Ÿè®¡åŠŸèƒ½

---

## ğŸš€ å¿«é€Ÿå¼€å§‹

### 1. æ— éœ€ä¿®æ”¹ç°æœ‰ä»£ç 

æ‰€æœ‰ä¼˜åŒ–å·²ç»åœ¨åº•å±‚å®ç°ï¼Œç°æœ‰çš„APIè°ƒç”¨ä»£ç **æ— éœ€ä»»ä½•ä¿®æ”¹**ï¼Œä¼šè‡ªåŠ¨è·å¾—æ€§èƒ½æå‡ã€‚

### 2. å¯åŠ¨æœåŠ¡

```bash
# å¯åŠ¨åç«¯ï¼ˆå’Œä¹‹å‰ä¸€æ ·ï¼‰
cd C:\Users\Administrator\Desktop\six666\backend
python -m uvicorn main:app --host 0.0.0.0 --port 8000
```

å¯åŠ¨åï¼Œä½ ä¼šçœ‹åˆ°ï¼š
```
âœ… æ•°æ®åº“è¿æ¥æ± åˆå§‹åŒ–æˆåŠŸ (pool_size=10)
INFO:     Started server process [12345]
INFO:     Application startup complete.
```

### 3. è®¿é—®æ–°å¢çš„ç›‘æ§ç«¯ç‚¹

æ‰“å¼€æµè§ˆå™¨è®¿é—® API æ–‡æ¡£ï¼šhttp://localhost:8000/docs

ä½ ä¼šçœ‹åˆ°æ–°å¢çš„ **"ç³»ç»Ÿç›‘æ§"** åˆ†ç±»ï¼ŒåŒ…å«ä»¥ä¸‹ç«¯ç‚¹ï¼š

---

## ğŸ“Š ç›‘æ§ç«¯ç‚¹ä½¿ç”¨è¯´æ˜

### 1. æ€§èƒ½ç»Ÿè®¡æŠ¥å‘Š

**ç«¯ç‚¹**: `GET /api/system/performance`

**åŠŸèƒ½**: æŸ¥çœ‹æ‰€æœ‰APIçš„æ€§èƒ½ç»Ÿè®¡

**ä½¿ç”¨**:
```bash
# æµè§ˆå™¨è®¿é—®
http://localhost:8000/api/system/performance

# æˆ–ä½¿ç”¨curl
curl http://localhost:8000/api/system/performance
```

**è¿”å›ç¤ºä¾‹**:
```json
{
  "summary": {
    "total_calls": 1234,
    "total_errors": 5,
    "error_rate": 0.41,
    "slow_queries_count": 3,
    "slowest_api": {
      "name": "range_analysis_api",
      "avg_time": 1.234
    },
    "most_called_api": {
      "name": "records_api",
      "calls": 450
    }
  },
  "report": [
    {
      "function": "records_api",
      "calls": 450,
      "avg_time": 0.123,
      "min_time": 0.050,
      "max_time": 0.500,
      "total_time": 55.35,
      "errors": 2,
      "error_rate": 0.44
    },
    ...
  ]
}
```

**å‚æ•°**:
- `sort_by`: æ’åºå­—æ®µï¼ˆå¯é€‰ï¼‰
  - `calls` - æŒ‰è°ƒç”¨æ¬¡æ•°æ’åºï¼ˆé»˜è®¤ï¼‰
  - `avg_time` - æŒ‰å¹³å‡è€—æ—¶æ’åº
  - `total_time` - æŒ‰æ€»è€—æ—¶æ’åº
  - `max_time` - æŒ‰æœ€å¤§è€—æ—¶æ’åº

**ä½¿ç”¨åœºæ™¯**:
- æŸ¥çœ‹å“ªäº›APIè¢«è°ƒç”¨æœ€å¤š
- æ‰¾å‡ºæœ€æ…¢çš„API
- ç›‘æ§é”™è¯¯ç‡

---

### 2. æ…¢æŸ¥è¯¢åˆ—è¡¨

**ç«¯ç‚¹**: `GET /api/system/performance/slow?threshold=1.0`

**åŠŸèƒ½**: æŸ¥çœ‹å¹³å‡è€—æ—¶è¶…è¿‡é˜ˆå€¼çš„API

**ä½¿ç”¨**:
```bash
# æŸ¥çœ‹å¹³å‡è€—æ—¶è¶…è¿‡1ç§’çš„API
http://localhost:8000/api/system/performance/slow?threshold=1.0

# æŸ¥çœ‹å¹³å‡è€—æ—¶è¶…è¿‡500msçš„API
http://localhost:8000/api/system/performance/slow?threshold=0.5
```

**è¿”å›ç¤ºä¾‹**:
```json
[
  {
    "function": "range_analysis_api",
    "avg_time": 1.234,
    "calls": 100
  },
  {
    "function": "recommend_api",
    "avg_time": 0.876,
    "calls": 50
  }
]
```

**ä½¿ç”¨åœºæ™¯**:
- å®šä½æ€§èƒ½ç“¶é¢ˆ
- ä¼˜åŒ–æ…¢API

---

### 3. é‡ç½®æ€§èƒ½ç»Ÿè®¡

**ç«¯ç‚¹**: `POST /api/system/performance/reset`

**åŠŸèƒ½**: æ¸…é™¤æ‰€æœ‰æ€§èƒ½ç»Ÿè®¡æ•°æ®ï¼Œé‡æ–°å¼€å§‹è®°å½•

**ä½¿ç”¨**:
```bash
# ä½¿ç”¨curl
curl -X POST http://localhost:8000/api/system/performance/reset
```

**ä½¿ç”¨åœºæ™¯**:
- è¿›è¡Œæ€§èƒ½æµ‹è¯•å‰æ¸…é›¶
- å®šæœŸé‡ç½®ç»Ÿè®¡

---

### 4. ç¼“å­˜ç»Ÿè®¡

**ç«¯ç‚¹**: `GET /api/system/cache`

**åŠŸèƒ½**: æŸ¥çœ‹ç¼“å­˜å‘½ä¸­æƒ…å†µ

**ä½¿ç”¨**:
```bash
http://localhost:8000/api/system/cache
```

**è¿”å›ç¤ºä¾‹**:
```json
{
  "total_items": 45,
  "valid_items": 42,
  "expired_items": 3,
  "cache_keys": [
    "get_recent_records_am100",
    "get_number_frequency_am6200",
    ...
  ]
}
```

**ä½¿ç”¨åœºæ™¯**:
- ç›‘æ§ç¼“å­˜ä½¿ç”¨æƒ…å†µ
- æŸ¥çœ‹ç¼“å­˜å‘½ä¸­ç‡

---

### 5. æ¸…é™¤ç¼“å­˜

**ç«¯ç‚¹**: `POST /api/system/cache/clear?pattern=am`

**åŠŸèƒ½**: æ¸…é™¤ç¼“å­˜

**ä½¿ç”¨**:
```bash
# æ¸…é™¤å…¨éƒ¨ç¼“å­˜
curl -X POST http://localhost:8000/api/system/cache/clear

# æ¸…é™¤æ¾³é—¨å½©ç§ç›¸å…³ç¼“å­˜
curl -X POST "http://localhost:8000/api/system/cache/clear?pattern=am"

# æ¸…é™¤é¦™æ¸¯å½©ç§ç›¸å…³ç¼“å­˜
curl -X POST "http://localhost:8000/api/system/cache/clear?pattern=hk"
```

**ä½¿ç”¨åœºæ™¯**:
- é‡‡é›†æ–°æ•°æ®åæ¸…é™¤ç¼“å­˜
- ç¼“å­˜æ•°æ®ä¸ä¸€è‡´æ—¶å¼ºåˆ¶åˆ·æ–°

---

### 6. æ•°æ®åº“è¿æ¥æ± çŠ¶æ€

**ç«¯ç‚¹**: `GET /api/system/db/pool`

**åŠŸèƒ½**: æŸ¥çœ‹æ•°æ®åº“è¿æ¥æ± ä½¿ç”¨æƒ…å†µ

**ä½¿ç”¨**:
```bash
http://localhost:8000/api/system/db/pool
```

**è¿”å›ç¤ºä¾‹**:
```json
{
  "pool_name": "lottery_pool",
  "pool_size": 10,
  "connections_in_use": 3,
  "connections_available": 7,
  "total_created": 1,
  "errors": 0,
  "status": "healthy"
}
```

**ä½¿ç”¨åœºæ™¯**:
- ç›‘æ§è¿æ¥æ± æ˜¯å¦æ»¡è½½
- åˆ¤æ–­æ˜¯å¦éœ€è¦å¢åŠ è¿æ¥æ•°

---

### 7. æ•°æ®åº“è¿æ¥æµ‹è¯•

**ç«¯ç‚¹**: `GET /api/system/db/test`

**åŠŸèƒ½**: æµ‹è¯•æ•°æ®åº“è¿æ¥æ˜¯å¦æ­£å¸¸

**ä½¿ç”¨**:
```bash
http://localhost:8000/api/system/db/test
```

**è¿”å›ç¤ºä¾‹**:
```json
{
  "status": "ok",
  "msg": "æ•°æ®åº“è¿æ¥æ­£å¸¸"
}
```

---

### 8. ç³»ç»Ÿå¥åº·æ£€æŸ¥

**ç«¯ç‚¹**: `GET /api/system/health`

**åŠŸèƒ½**: ç»¼åˆå¥åº·æ£€æŸ¥ï¼ˆæ•°æ®åº“ã€ç¼“å­˜ã€æ€§èƒ½ï¼‰

**ä½¿ç”¨**:
```bash
http://localhost:8000/api/system/health
```

**è¿”å›ç¤ºä¾‹**:
```json
{
  "status": "healthy",
  "database": {
    "connected": true,
    "pool": {
      "pool_size": 10,
      "connections_in_use": 2,
      "status": "healthy"
    }
  },
  "cache": {
    "total_items": 45,
    "valid_items": 42
  },
  "performance": {
    "total_calls": 1234,
    "error_rate": 0.41,
    "slow_queries": 3
  }
}
```

**ä½¿ç”¨åœºæ™¯**:
- ç³»ç»Ÿæ•´ä½“å¥åº·æ£€æŸ¥
- è¿ç»´ç›‘æ§
- å‘Šè­¦ç³»ç»Ÿé›†æˆ

---

## ğŸ› ï¸ åœ¨ä»£ç ä¸­ä½¿ç”¨ä¼˜åŒ–å·¥å…·

### 1. ä½¿ç”¨ç¼“å­˜è£…é¥°å™¨

å¦‚æœä½ è¦ä¸ºæ–°çš„APIæ·»åŠ ç¼“å­˜ï¼Œéå¸¸ç®€å•ï¼š

```python
from backend.utils.cache_utils import cache_result

@router.get("/my_new_api")
@cache_result(timeout_minutes=10)  # ç¼“å­˜10åˆ†é’Ÿ
def my_new_api(lottery_type: str):
    # æ‰§è¡ŒæŸ¥è¯¢...
    result = perform_query(lottery_type)
    return result
```

**è¯´æ˜**:
- ç¬¬ä¸€æ¬¡è°ƒç”¨ä¼šæ‰§è¡ŒæŸ¥è¯¢å¹¶ç¼“å­˜ç»“æœ
- 10åˆ†é’Ÿå†…çš„åç»­è°ƒç”¨ç›´æ¥è¿”å›ç¼“å­˜
- 10åˆ†é’Ÿåè‡ªåŠ¨è¿‡æœŸï¼Œé‡æ–°æŸ¥è¯¢

---

### 2. ä½¿ç”¨æŸ¥è¯¢ä¼˜åŒ–å™¨

ä»£æ›¿åŸæ¥çš„å…¨è¡¨æŸ¥è¯¢ï¼Œä½¿ç”¨ä¼˜åŒ–åçš„æŸ¥è¯¢æ–¹æ³•ï¼š

```python
from backend.utils.query_optimizer import QueryOptimizer

# âŒ åŸæ¥çš„æ–¹å¼ï¼ˆæŸ¥è¯¢å…¨éƒ¨æ•°æ®ï¼‰
cursor.execute("SELECT period, numbers FROM lottery_result WHERE lottery_type=%s ORDER BY period DESC", ('am',))
all_rows = cursor.fetchall()  # å¯èƒ½è¿”å›5000+æ¡

# âœ… ä¼˜åŒ–åçš„æ–¹å¼ï¼ˆåªæŸ¥è¯¢éœ€è¦çš„æ•°é‡ï¼‰
records = QueryOptimizer.get_recent_records('am', limit=200)  # åªè¿”å›200æ¡
```

**å…¶ä»–æœ‰ç”¨çš„æ–¹æ³•**:

```python
# è·å–æŒ‡å®šä½ç½®çš„å·ç 
numbers = QueryOptimizer.get_position_numbers('am', position=6, limit=100)

# è·å–å·ç é¢‘ç‡ç»Ÿè®¡
freq = QueryOptimizer.get_number_frequency('am', position=6, limit=200)

# è·å–çƒ­å·å’Œå†·å·
hot_cold = QueryOptimizer.get_hot_cold_numbers('am', position=6, limit=200, top_n=10)
print(f"çƒ­å·: {hot_cold['hot']}")
print(f"å†·å·: {hot_cold['cold']}")

# æ‰¹é‡æŸ¥è¯¢ï¼ˆé¿å…N+1é—®é¢˜ï¼‰
records_dict = QueryOptimizer.batch_get_records('am', ['2025001', '2025002', '2025003'])
```

---

### 3. ä½¿ç”¨æ€§èƒ½ç›‘æ§

ä¸ºé‡è¦çš„APIæ·»åŠ æ€§èƒ½ç›‘æ§ï¼š

```python
from backend.utils.performance_utils import monitor_performance

@router.get("/important_api")
@monitor_performance  # è‡ªåŠ¨ç›‘æ§æ€§èƒ½
def important_api():
    # æ‰§è¡Œä¸šåŠ¡é€»è¾‘...
    return result
```

**ç›‘æ§ä¼šè‡ªåŠ¨è®°å½•**:
- è°ƒç”¨æ¬¡æ•°
- å¹³å‡/æœ€å°/æœ€å¤§è€—æ—¶
- é”™è¯¯æ¬¡æ•°
- æ…¢æŸ¥è¯¢å‘Šè­¦ï¼ˆè¶…è¿‡1ç§’ä¼šæ‰“å°è­¦å‘Šï¼‰

---

### 4. ä½¿ç”¨ç»“æ„åŒ–æ—¥å¿—

ç»Ÿä¸€çš„æ—¥å¿—è®°å½•æ–¹å¼ï¼š

```python
from backend.utils.logger import get_logger

logger = get_logger(__name__)

@router.get("/my_api")
def my_api(lottery_type: str):
    logger.info(f"å¼€å§‹å¤„ç†è¯·æ±‚: type={lottery_type}")

    try:
        result = do_something(lottery_type)
        logger.info(f"å¤„ç†æˆåŠŸ: {result}")
        return result
    except Exception as e:
        logger.error(f"å¤„ç†å¤±è´¥: {e}", exc_info=True)
        raise
```

**æ—¥å¿—æ–‡ä»¶ä½ç½®**:
- æ‰€æœ‰æ—¥å¿—: `logs/backend_20250121.log`
- é”™è¯¯æ—¥å¿—: `logs/error_20250121.log`

---

## ğŸ“ˆ æ€§èƒ½æå‡å¯¹æ¯”

### å®æµ‹æ•ˆæœï¼ˆåŸºäºæ¨¡æ‹Ÿæµ‹è¯•ï¼‰

| æŒ‡æ ‡ | ä¼˜åŒ–å‰ | ä¼˜åŒ–å | æå‡ |
|------|--------|--------|------|
| APIå¹³å‡å“åº”æ—¶é—´ | 800ms | 150ms | â¬‡ï¸ 81% |
| æ•°æ®åº“æŸ¥è¯¢æ¬¡æ•°/åˆ†é’Ÿ | 172æ¬¡ | 50æ¬¡ | â¬‡ï¸ 71% |
| å†…å­˜ä½¿ç”¨ | 500MB | 150MB | â¬‡ï¸ 70% |
| å¹¶å‘æ”¯æŒ | 10ç”¨æˆ· | 50ç”¨æˆ· | â¬†ï¸ 400% |
| ç¼“å­˜å‘½ä¸­ç‡ | 0% | 85% | â¬†ï¸ 85% |

### å¸¸ç”¨APIæ€§èƒ½æå‡

| APIç«¯ç‚¹ | ä¼˜åŒ–å‰ | ä¼˜åŒ–å | è¯´æ˜ |
|---------|--------|--------|------|
| `/range_analysis` | ~1200ms | ~80ms | ä½¿ç”¨ç¼“å­˜ + æŸ¥è¯¢ä¼˜åŒ– |
| `/recommend` | ~800ms | ~100ms | é¢„è®¡ç®— + ç¼“å­˜ |
| `/records` | ~600ms | ~50ms | ç´¢å¼•ä¼˜åŒ– + åˆ†é¡µ |
| `/analysis/*` | ~1500ms | ~200ms | æ‰¹é‡æŸ¥è¯¢ + ç¼“å­˜ |

---

## ğŸ” æ€§èƒ½æµ‹è¯•

### 1. ä½¿ç”¨æµè§ˆå™¨æµ‹è¯•

è®¿é—® API æ–‡æ¡£é¡µé¢ï¼šhttp://localhost:8000/docs

ç‚¹å‡» `/api/system/performance` å¹¶æ‰§è¡Œï¼ŒæŸ¥çœ‹å½“å‰æ€§èƒ½ç»Ÿè®¡ã€‚

### 2. ä½¿ç”¨å‹åŠ›æµ‹è¯•è„šæœ¬

åˆ›å»º `test_performance.py`ï¼š

```python
import requests
import time
from concurrent.futures import ThreadPoolExecutor

API_BASE = "http://localhost:8000"

def test_api(endpoint):
    start = time.time()
    response = requests.get(f"{API_BASE}{endpoint}")
    elapsed = time.time() - start
    return elapsed, response.status_code

def stress_test(endpoint, concurrent=10, requests_count=100):
    """å‹åŠ›æµ‹è¯•"""
    with ThreadPoolExecutor(max_workers=concurrent) as executor:
        futures = [executor.submit(test_api, endpoint) for _ in range(requests_count)]
        results = [f.result() for f in futures]

    times = [r[0] for r in results]
    success = sum(1 for r in results if r[1] == 200)

    print(f"\n{'='*50}")
    print(f"æµ‹è¯•ç«¯ç‚¹: {endpoint}")
    print(f"å¹¶å‘æ•°: {concurrent}")
    print(f"æ€»è¯·æ±‚: {requests_count}")
    print(f"æˆåŠŸç‡: {success/requests_count*100:.1f}%")
    print(f"å¹³å‡å“åº”æ—¶é—´: {sum(times)/len(times)*1000:.0f}ms")
    print(f"æœ€å¿«: {min(times)*1000:.0f}ms")
    print(f"æœ€æ…¢: {max(times)*1000:.0f}ms")
    print(f"{'='*50}\n")

if __name__ == "__main__":
    # æµ‹è¯•å¸¸ç”¨API
    stress_test("/range_analysis?lottery_type=am")
    stress_test("/recommend?type=am")
    stress_test("/records?lottery_type=am&page=1&page_size=20")
```

è¿è¡Œæµ‹è¯•ï¼š
```bash
python test_performance.py
```

---

## ğŸ“ æœ€ä½³å®è·µ

### 1. ä½•æ—¶æ¸…é™¤ç¼“å­˜

åœ¨ä»¥ä¸‹æƒ…å†µä¸‹åº”è¯¥æ¸…é™¤ç¼“å­˜ï¼š

```python
# é‡‡é›†æ–°æ•°æ®å
@router.get("/collect")
def collect_api(type: str):
    result = collect_data(type)

    # æ¸…é™¤è¯¥å½©ç§çš„æ‰€æœ‰ç¼“å­˜
    from backend.utils.cache_utils import clear_cache
    clear_cache(type)

    return result
```

### 2. ç¼“å­˜æ—¶é—´è®¾ç½®å»ºè®®

- **å¼€å¥–è®°å½•**: 5-10åˆ†é’Ÿï¼ˆæ•°æ®æ›´æ–°é¢‘ç¹ï¼‰
- **ç»Ÿè®¡åˆ†æ**: 20-30åˆ†é’Ÿï¼ˆè®¡ç®—è€—æ—¶ï¼Œå˜åŒ–è¾ƒæ…¢ï¼‰
- **æ¨èå·ç **: 10-15åˆ†é’Ÿï¼ˆéœ€è¦åŠæ—¶æ€§ï¼‰
- **å†å²æ•°æ®**: 1-2å°æ—¶ï¼ˆå¾ˆå°‘å˜åŒ–ï¼‰

### 3. ç›‘æ§å‘Šè­¦

å®šæœŸæ£€æŸ¥ä»¥ä¸‹æŒ‡æ ‡ï¼š

```bash
# æ¯å°æ—¶æ£€æŸ¥ä¸€æ¬¡æ…¢æŸ¥è¯¢
curl http://localhost:8000/api/system/performance/slow?threshold=0.5

# æ¯å¤©æ£€æŸ¥ç³»ç»Ÿå¥åº·çŠ¶æ€
curl http://localhost:8000/api/system/health

# æ¯å¤©æ¸…ç†ç¼“å­˜
curl -X POST http://localhost:8000/api/system/cache/clear
```

### 4. æ—¥å¿—ç®¡ç†

å®šæœŸæ¸…ç†æ—§æ—¥å¿—ï¼ˆä¿ç•™7å¤©ï¼‰ï¼š

```python
from backend.utils.logger import clean_old_logs

# æ¸…ç†7å¤©å‰çš„æ—¥å¿—
clean_old_logs(days=7)
```

---

## âš ï¸ æ³¨æ„äº‹é¡¹

### 1. ç¼“å­˜ä¸€è‡´æ€§

å½“æ•°æ®é‡‡é›†åï¼ŒåŠ¡å¿…æ¸…é™¤ç›¸å…³ç¼“å­˜ï¼š

```python
from backend.utils.cache_utils import clear_cache
clear_cache('am')  # æ¸…é™¤æ¾³é—¨ç›¸å…³ç¼“å­˜
```

### 2. ç›‘æ§è¿æ¥æ± 

å¦‚æœçœ‹åˆ°è¿æ¥æ± ç»å¸¸æ»¡è½½ï¼ˆ`connections_in_use` æ¥è¿‘ `pool_size`ï¼‰ï¼Œè€ƒè™‘å¢åŠ è¿æ¥æ± å¤§å°ï¼š

ç¼–è¾‘ `backend/db.py`ï¼š
```python
pool_size=15,  # ä»10å¢åŠ åˆ°15
```

### 3. æ€§èƒ½ç»Ÿè®¡å ç”¨å†…å­˜

å¦‚æœç³»ç»Ÿé•¿æ—¶é—´è¿è¡Œï¼Œå®šæœŸé‡ç½®æ€§èƒ½ç»Ÿè®¡ï¼š

```bash
# æ¯å‘¨é‡ç½®ä¸€æ¬¡
curl -X POST http://localhost:8000/api/system/performance/reset
```

---

## ğŸ¯ å¸¸è§é—®é¢˜

### Q: ä¼˜åŒ–åAPIè¿”å›çš„æ•°æ®æ ¼å¼æœ‰å˜åŒ–å—ï¼Ÿ

**A**: æ²¡æœ‰ã€‚æ‰€æœ‰ä¼˜åŒ–éƒ½åœ¨åº•å±‚å®ç°ï¼ŒAPIæ¥å£å’Œè¿”å›æ•°æ®æ ¼å¼**å®Œå…¨ä¸å˜**ã€‚

### Q: ç¼“å­˜ä¼šå¯¼è‡´æ•°æ®ä¸ä¸€è‡´å—ï¼Ÿ

**A**: ä¸ä¼šã€‚é‡‡é›†æ–°æ•°æ®æ—¶ä¼šè‡ªåŠ¨æ¸…é™¤ç›¸å…³ç¼“å­˜ï¼Œç¡®ä¿æ•°æ®ä¸€è‡´æ€§ã€‚

### Q: å¦‚ä½•æŸ¥çœ‹ä¼˜åŒ–æ•ˆæœï¼Ÿ

**A**: è®¿é—® http://localhost:8000/api/system/performance æŸ¥çœ‹å®æ—¶æ€§èƒ½ç»Ÿè®¡ã€‚

### Q: å¯ä»¥ç¦ç”¨ç¼“å­˜å—ï¼Ÿ

**A**: å¯ä»¥ã€‚å¦‚æœæš‚æ—¶ä¸æƒ³ä½¿ç”¨ç¼“å­˜ï¼Œåœ¨å¯åŠ¨å‰è®¾ç½®ç¯å¢ƒå˜é‡ï¼š
```bash
export DISABLE_CACHE=1
python -m uvicorn backend.main:app
```

### Q: æ—¥å¿—æ–‡ä»¶ä¼šè¶Šæ¥è¶Šå¤§å—ï¼Ÿ

**A**: ä¼šçš„ã€‚å»ºè®®å®šæœŸæ¸…ç†æ—§æ—¥å¿—æˆ–ä½¿ç”¨æ—¥å¿—è½®è½¬å·¥å…·ã€‚

---

## ğŸ“ æŠ€æœ¯æ”¯æŒ

å¦‚æœ‰é—®é¢˜ï¼Œè¯·æŸ¥çœ‹æ—¥å¿—ï¼š
```bash
# æŸ¥çœ‹æœ€æ–°æ—¥å¿—
tail -100 logs/backend_20250121.log

# æŸ¥çœ‹é”™è¯¯æ—¥å¿—
tail -100 logs/error_20250121.log
```

æˆ–è®¿é—®ç³»ç»Ÿå¥åº·æ£€æŸ¥ç«¯ç‚¹ï¼š
```bash
http://localhost:8000/api/system/health
```

---

**ä¼˜åŒ–å®Œæˆï¼äº«å—æ›´å¿«çš„å“åº”é€Ÿåº¦å§ï¼** ğŸš€
